<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Rosengren.me - Download file / image instead of displaying it in browser</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="container">
          <div class="site">
            <div class="header">
              <h1 class="title"><a href="/">Rosengren.me</a></h1>
              <a class="extra" href="/">home</a>
            </div>

                <h2>Rosengren.me: Download file / image instead of displaying it in browser</h2>
<p class="meta">24 Sep 2012</p>

<div class="post">
<p>New day new requirements. Atleast this was an easy one.</p>

<p>The normal action when clicking an anchor tag with an href pointing to an image is to display the image in the browser. Today this was not the desired outcome, instead I wanted to put an &#8220;Download image&#8221; button next to the image. The solution to this is very simple if you have access to the http server response. This was no problem for me since I&#8217;m working with asp.NET MVC, all I had to to was to add an extra header to the response. The content-disposition header to be precise.</p>

<p>This header has two parts that were important to me, the disposition-type and the filename parts. The default disposition-type is inline and this is what tells the browser to show content that it knows how to display, the type that I wanted was attachment that tells the browser to treat the image as a downloadable file. The filename part is only useful when using the attachment type. Simply include filename=my-filename in the header.</p>

<p>This is the result (MVC example):</p>
<div class='highlight'><pre><code class='c#'><span class='n'>Response</span><span class='p'>.</span><span class='n'>AppendHeader</span><span class='p'>(</span><span class='s'>&quot;content-disposition&quot;</span><span class='p'>,</span> <span class='s'>&quot;attachment;filename=&quot;</span> <span class='p'>+</span> <span class='n'>myfile</span><span class='p'>.</span><span class='n'>Name</span><span class='p'>);</span>
</code></pre></div>
<p>And this is really all there is to it.</p>
</div>


            <div class="footer">
              <div class="contact">
                <p>
                  Your Name<br />
                  What You Are<br />
                  your@email.com
                </p>
              </div>
              <div class="contact">
                <p>
                  <a href="http://github.com/yourusername/">github.com/yourusername</a><br />
                  <a href="http://twitter.com/yourusername/">twitter.com/yourusername</a><br />
                </p>
              </div>
            </div>
          </div>
        </div> <!-- /container -->

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-41772613-1', 'rosengren.me');
          ga('send', 'pageview');

        </script>
    </body>
</html>
