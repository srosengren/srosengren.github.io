<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Rosengren.me - Removing zone div wrapper in Orchard</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">

        <meta property="og:type" content="article"/>
        <meta property="og:image" content="http://www.rosengren.me/assets/images/badge.jpg" />
        <meta property="og:description" content="If you have ever tried building a new Orchard theme from scratch, and like me you like full control of your markup. Then perhaps you have noticed the extra "zone-name" div that Orchard adds around every zone.

"/>

        <!--[if lt IE 9]>
           <script>
              document.createElement('nav');
              document.createElement('header');
              document.createElement('section');
              document.createElement('footer');
              document.createElement('article');
              document.createElement('time');
           </script>
        <![endif]-->

        <link rel="stylesheet" href="/assets/styles/syntax.css">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" href="/assets/styles/rosengren.css">

    </head>
    <body>
      <div class="navbar-menu-toggle" id="menu-toggle"></div>
      <nav class="navbar" id="navbar-menu">
        <div class="navbar-menu collapse">
          <a class="navbar-menu-item navbar-menu-title navbar-menu-item--home" href="/">home</a>
          <a class="navbar-menu-item navbar-menu-item--blog" href="/blog">blog</a>
        </div>
        <ul class="navbar-menu navbar-spots right collapse">
          <li class="navbar-menu-item spot">
            <div class="spot-bubble">
              <a href="http://www.linkedin.com/in/srosengren" target="_blank" class="fa fa-linkedin"></a>
            </div>
            <span class="spot-title">Linkedin</span>
          </li>
          <li class="navbar-menu-item spot">
            <div class="spot-bubble">
              <a href="https://twitter.com/srrosengren" target="_blank" class="fa fa-twitter"></a>
            </div>
            <span class="spot-title">Twitter</span>
          </li>
          <li class="navbar-menu-item spot">
            <div class="spot-bubble">
              <a href="https://github.com/srosengren" target="_blank" class="fa fa-github"></a>
            </div>
            <span class="spot-title">Github</span>
          </li>
          <li class="navbar-menu-item spot">
            <div class="spot-bubble">
              <a href="https://plus.google.com/100467627792652344906/posts?rel=author" target="_blank" class="fa fa-google-plus"></a>
            </div>
            <span class="spot-title">G+</span>
          </li>
          <li class="navbar-menu-item spot">
            <div class="spot-bubble">
              <a href="javascript:;" id="mail-link" class="fa fa-envelope"></a>
            </div>
            <span class="spot-title">Mail</span>
          </li>
        </ul>
      </nav>
      <div class="main-content" id="content">
          <div class="container">
	<articlec class="post">
		<header>
			<h1 class="post__title">Removing zone div wrapper in Orchard</h1>
			<div class="post__byline">
				<time datetime="2012-08-31 22:51:00 +0200">31 Aug 2012</time>
				web, orchard, and development
			</div>
		</header>
		<div class="post__content"><p>If you have ever tried building a new Orchard theme from scratch, and like me you like full control of your markup. Then perhaps you have noticed the extra &#8220;zone-name&#8221; div that Orchard adds around every zone.</p>

<p>This is great for creating a semantic markup, but it didn&#8217;t suit my needs for a minimal markup and I wanted them gone.</p>

<p>It turns out that this is really easy to accomplish. There is a file in the Orchard.Core called CoreShapes.cs which, as you may have guessed, defines some of the basic shapes. For instance, the Zone shape looks like this:</p>
<div class='highlight'><pre><code class='c#'><span class='na'>        [Shape]</span>
        <span class='k'>public</span> <span class='k'>void</span> <span class='nf'>Zone</span><span class='p'>(</span><span class='kt'>dynamic</span> <span class='n'>Display</span><span class='p'>,</span> <span class='kt'>dynamic</span> <span class='n'>Shape</span><span class='p'>,</span> <span class='n'>TextWriter</span> <span class='n'>Output</span><span class='p'>)</span> <span class='p'>{</span>
                    <span class='kt'>string</span> <span class='n'>id</span> <span class='p'>=</span> <span class='n'>Shape</span><span class='p'>.</span><span class='n'>Id</span><span class='p'>;</span>
                    <span class='n'>IEnumerable</span><span class='p'>&lt;</span><span class='kt'>string</span><span class='p'>&gt;</span> <span class='n'>classes</span> <span class='p'>=</span> <span class='n'>Shape</span><span class='p'>.</span><span class='n'>Classes</span><span class='p'>;</span>
                    <span class='n'>IDictionary</span><span class='p'>&lt;</span><span class='kt'>string</span><span class='p'>,</span> <span class='kt'>string</span><span class='p'>&gt;</span> <span class='n'>attributes</span> <span class='p'>=</span> <span class='n'>Shape</span><span class='p'>.</span><span class='n'>Attributes</span><span class='p'>;</span>
                    <span class='kt'>var</span> <span class='n'>zoneWrapper</span> <span class='p'>=</span> <span class='n'>GetTagBuilder</span><span class='p'>(</span><span class='s'>&quot;div&quot;</span><span class='p'>,</span> <span class='n'>id</span><span class='p'>,</span> <span class='n'>classes</span><span class='p'>,</span> <span class='n'>attributes</span><span class='p'>);</span>
                    <span class='n'>Output</span><span class='p'>.</span><span class='n'>Write</span><span class='p'>(</span><span class='n'>zoneWrapper</span><span class='p'>.</span><span class='n'>ToString</span><span class='p'>(</span><span class='n'>TagRenderMode</span><span class='p'>.</span><span class='n'>StartTag</span><span class='p'>));</span>
                    <span class='k'>foreach</span> <span class='p'>(</span><span class='kt'>var</span> <span class='n'>item</span> <span class='k'>in</span> <span class='n'>ordered_hack</span><span class='p'>(</span><span class='n'>Shape</span><span class='p'>)){</span>
                                    <span class='n'>Output</span><span class='p'>.</span><span class='n'>Write</span><span class='p'>(</span><span class='n'>Display</span><span class='p'>(</span><span class='n'>item</span><span class='p'>));</span>
                                    <span class='n'>Output</span><span class='p'>.</span><span class='n'>Write</span><span class='p'>(</span><span class='n'>zoneWrapper</span><span class='p'>.</span><span class='n'>ToString</span><span class='p'>(</span><span class='n'>TagRenderMode</span><span class='p'>.</span><span class='n'>EndTag</span><span class='p'>));</span>
                                <span class='p'>}</span>
</code></pre></div>
<p>As you can see this outputs a div tag around your items (content,widgets). The only thing that I really want keep here is the foreach loop. I could of course edit it right here but that wouldn&#8217;t be very flexible of me now would it?</p>

<p>Two of the great things about Orchard&#8217;s shapes is that Orchard always picks the one with the highest precedence, and that it doesn&#8217;t care if it&#8217;s defined in code or markup. This means that we can override the Zone shape in our theme by simply adding a Zone.cshtml file in the Views folder of the theme. The markup of this file would look like this:</p>

<p><div class='highlight'><pre><code class='c#'>     <span class='n'>@foreach</span> <span class='p'>(</span><span class='kt'>var</span> <span class='n'>item</span> <span class='k'>in</span> <span class='n'>@Model</span><span class='p'>)</span> <span class='p'>{</span>
             <span class='n'>@Display</span><span class='p'>(</span><span class='n'>item</span><span class='p'>)</span>
         <span class='p'>}</span>
</code></pre></div></p>

<p>Now this might look like code, but hey, it&#8217;s razor!</p></div>
	</article>
</div>
      </div> <!-- /container -->
      <footer class="container footer-content">
        Powered by <a href="http://http://jekyllrb.com/" target="_blank">Jekyll</a>, hosted on <a href="https://github.com/" target="_blank">Github</a>, compiled using <a href="http://www.ruby-lang.org/en/" target="_blank">Ruby</a> and <a href="http://http://python.org/" target="_blank">Python</a> by a <a href="http://www.microsoft.com/net" target="_blank">.NET</a> guy.
      </footer>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-41772613-1', 'rosengren.me');
          ga('send', 'pageview');

          document.getElementById('mail-link').href = 'mailto:' + 'sebastian' + '@' + 'rosengren' + '.me';

          document.getElementById('menu-toggle').addEventListener('click', function(){
            var navbar = document.getElementById('navbar-menu');
            if(navbar.className.indexOf('open') > 0){
              navbar.className = navbar.className.replace(' open','');
            } else {
              navbar.className = navbar.className + ' open';
            }
          });

          document.getElementById('content').addEventListener('click',function(){
            var navbar = document.getElementById('navbar-menu');
            if(navbar.className.indexOf('open') > 0){
              navbar.className = navbar.className.replace(' open','');
            }
          })
        </script>
    </body>
</html>
