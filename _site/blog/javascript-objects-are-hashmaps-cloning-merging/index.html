<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Rosengren.me - Javascript objects are hashmaps, how to clone and/or merge them</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="I love javascript, I really do. One of the things i really enjoy about the language is its dynamic nature where objects are actually hashmaps, associate arrays, dictionaries, or whatever you want to call it. This gives us the ability to get and assign properties using indexing and property names instead of the dot syntax used in most languages (but we can use that to), we can also enumerate over an objects properties which is key to what this post is about.

">

        <meta property="og:type" content="article"/>
        <meta property="og:image" content="http://www.rosengren.me/assets/images/badge.jpg" />
        <meta property="og:description" content="I love javascript, I really do. One of the things i really enjoy about the language is its dynamic nature where objects are actually hashmaps, associate arrays, dictionaries, or whatever you want to call it. This gives us the ability to get and assign properties using indexing and property names instead of the dot syntax used in most languages (but we can use that to), we can also enumerate over an objects properties which is key to what this post is about.

"/>

        <!--[if lt IE 9]>
           <script>
              document.createElement('nav');
              document.createElement('header');
              document.createElement('section');
              document.createElement('footer');
              document.createElement('article');
              document.createElement('time');
           </script>
        <![endif]-->
        <link rel="stylesheet" href="/assets/styles/rosengren.css">

    </head>
    <body>
      <div class="navbar-menu-toggle" id="menu-toggle">Menu</div>
      <div class="page" id="page">
        <nav class="navbar" id="navbar-menu">
          <div class="navbar-menu collapse">
            <a class="navbar-menu-item navbar-menu-title navbar-menu-item--home" href="/">home</a>
            <a class="navbar-menu-item navbar-menu-item--blog" href="/blog">blog</a>
          </div>
          <span class="navbar-menu navbar-menu-contact collapse">
            <a class="navbar-menu-item navbar-menu-item--linkedin" href="http://www.linkedin.com/in/srosengren" target="_blank">LinkedIn</a>
            <a class="navbar-menu-item navbar-menu-item--twitter" href="https://twitter.com/srrosengren" target="_blank">Twitter</a>
            <a class="navbar-menu-item navbar-menu-item--github" href="https://github.com/srosengren" target="_blank">Github</a>
            <a class="navbar-menu-item navbar-menu-item--mail" href="javascript:;" id="mail-link">Mail</a>
          </span>
        </nav>
        <div class="main-content" id="content">
            <article class="post">
	<header>
		<h1 class="post__title">Javascript objects are hashmaps, how to clone and/or merge them</h1>
		<div class="post__byline">
			<time datetime="2014-10-01 00:10:00 +0200">01 Oct 2014</time>
			javascript, arguments, prototype, object, hashmap, and dictionary
		</div>
	</header>
	<div class="post__content"><p>I love javascript, I really do. One of the things i really enjoy about the language is its dynamic nature where objects are actually hashmaps, associate arrays, dictionaries, or whatever you want to call it. This gives us the ability to get and assign properties using indexing and property names instead of the dot syntax used in most languages (but we can use that to), we can also enumerate over an objects properties which is key to what this post is about.</p>

<p>Example</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{};</span>

<span class="c1">//The property test now contains the text &quot;test&quot;</span>
<span class="nx">o</span><span class="p">.</span><span class="nx">test</span> <span class="o">=</span> <span class="s1">&#39;test&#39;</span><span class="p">;</span> 

<span class="c1">//The property test now contains the text &quot;tset&quot;</span>
<span class="nx">o</span><span class="p">[</span><span class="s1">&#39;test&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;tset&#39;</span><span class="p">;</span> 

<span class="c1">//We can add new properties, </span>
<span class="c1">//just as we do with the dot syntax</span>
<span class="nx">o</span><span class="p">[</span><span class="s1">&#39;test2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;test2&#39;</span><span class="p">;</span>

<span class="c1">//We can even use integers</span>
<span class="nx">o</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> 

<span class="c1">//But trying to get it out using dot syntax throws </span>
<span class="c1">//&quot;Uncaught SyntaxError: Unexpected number&quot;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="mi">1</span><span class="p">);</span> 

<span class="c1">//But this will do the trick</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">o</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span></code></pre></div>

<h2 id="a-cloning-function">A cloning function</h2>
<p>A very basic shallow cloning function could look something like this. Here we’re using the <code>for in</code> syntax to enumerate over the original objects properties, the <code>prop</code> variable in the example will hold the property name as a string which gives us the ability to create a property with the same name on the clone using index syntax, we use the same syntax to get the value from the original objects property and assign it to the new property on the clone. We use the <code>if(original.hasOwnProperty(prop))</code> check to make sure that we’re not cloning a property from the original objects prototype.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">makeClone</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">original</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">clone</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">prop</span> <span class="k">in</span> <span class="nx">original</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">original</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">prop</span><span class="p">)){</span>
            <span class="nx">clone</span><span class="p">[</span><span class="nx">prop</span><span class="p">]</span> <span class="o">=</span> <span class="nx">original</span><span class="p">[</span><span class="nx">prop</span><span class="p">];</span>   
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">clone</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<h3 id="what-about-deep-cloning">What about deep cloning?</h3>
<p>What will happen if we throw an object that has properties containing objects into this function?</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">original</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">test</span><span class="o">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span>
    <span class="nx">sub</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">test</span><span class="o">:</span> <span class="mi">1</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">clone</span> <span class="o">=</span> <span class="nx">makeClone</span><span class="p">(</span><span class="nx">original</span><span class="p">);</span></code></pre></div>

<p>This will in fact work in the sense that the clone will look exactly like the original, but the sub property of the clone will be a reference to the sub property of the original. Meaning that you would get this kind of behaviour:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">original</span><span class="p">.</span><span class="nx">sub</span><span class="p">.</span><span class="nx">test</span> <span class="o">=</span> <span class="mi">2</span>

<span class="c1">//This will now also return 2 since it&#39;s a reference to the original</span>
<span class="nx">clone</span><span class="p">.</span><span class="nx">sub</span><span class="p">.</span><span class="nx">test</span></code></pre></div>

<p>Which may or may not be what you want.</p>

<h2 id="actual-deep-cloning-function">Actual deep cloning function</h2>
<p>What if we would like to actually deep clone objects? What would that function look like? Well, it could look something like this</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">makeClone</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">original</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">clone</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">prop</span> <span class="k">in</span> <span class="nx">original</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">original</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">prop</span><span class="p">)){</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">original</span><span class="p">[</span><span class="nx">prop</span><span class="p">])</span> <span class="o">===</span> <span class="s1">&#39;[object Object]&#39;</span><span class="p">)</span>
                <span class="nx">clone</span><span class="p">[</span><span class="nx">prop</span><span class="p">]</span> <span class="o">=</span> <span class="nx">makeClone</span><span class="p">(</span><span class="nx">original</span><span class="p">[</span><span class="nx">prop</span><span class="p">])</span>
            <span class="k">else</span>
                <span class="nx">clone</span><span class="p">[</span><span class="nx">prop</span><span class="p">]</span> <span class="o">=</span> <span class="nx">original</span><span class="p">[</span><span class="nx">prop</span><span class="p">];</span>   
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">clone</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<p>The difference between this and our previous function is the type check <code>Object.prototype.toString.call(original[prop]) === '[object Object]'</code> that makes sure that sub objects are also sent through the cloner and then assigned to the parent clones new property. This will run recursively for any level of child objects.</p>

<h2 id="what-about-properties-that-references-arrays">What about properties that references arrays?</h2>
<p>Our current code will have the same “Problem” as the first version we wrote, a clone will contain a reference to the same array as the original, lets fix that just for the heck of it. Oh, and lets make sure that it deepclones all items in the array, even if they happen to be arrays themselves.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">makeClone</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">original</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">clone</span> <span class="o">=</span> <span class="p">{},</span>
        <span class="nx">getValue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">original</span><span class="p">){</span>
            <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">original</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">original</span><span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;[object Object]&#39;</span><span class="p">)</span>
                <span class="nx">value</span> <span class="o">=</span> <span class="nx">makeClone</span><span class="p">(</span><span class="nx">original</span><span class="p">)</span>
            <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">original</span><span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;[object Array]&#39;</span><span class="p">){</span>
                <span class="nx">value</span> <span class="o">=</span> <span class="p">[];</span>
                <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">original</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
                    <span class="nx">value</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">getValue</span><span class="p">(</span><span class="nx">original</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
        <span class="p">};</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">prop</span> <span class="k">in</span> <span class="nx">original</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">original</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">prop</span><span class="p">)){</span>
               <span class="nx">clone</span><span class="p">[</span><span class="nx">prop</span><span class="p">]</span> <span class="o">=</span> <span class="nx">getValue</span><span class="p">(</span><span class="nx">original</span><span class="p">[</span><span class="nx">prop</span><span class="p">]);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">clone</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<p>This was a perfect time to refactor the code in the original <code>for in</code> loop since arrays can also contain primitives, objects and other arrays, just like objects. The only other change is the addition of code that detects if the property value is an array <code>Object.prototype.toString.call(original) === '[object Array]'</code> and loops over it and insert every value at the same index in a new array, deepcloning if needed.</p>

<h2 id="what-about-the-prototype">What about the prototype?</h2>
<p>Right, our clone should probably have the same prototype as the original.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">makeClone</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">original</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">clone</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">original</span><span class="p">)),</span>
    <span class="p">...</span>
<span class="p">}</span></code></pre></div>

<p>We replace the line where we set clone to a new object literal with a line that uses <code>Object.create</code>, this function enables us to create new objects with prototypes without having to create an empty constructor function, the prototype for the new object is the first parameter supplied to <code>Object.create</code> and we get the prototype for the original object by calling <code>Object.getPrototypeOf(original)</code>.</p>

<h2 id="functions">Functions?</h2>
<p>Functions will work if it refers to its parent object using <code>this</code>. It gets a bit harder if it’s using a variable name to refer to the parent as this cant really be changed without programmatically reading the function text and using some form of eval evil to rewrite it.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">original</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;original&#39;</span><span class="p">,</span>
    <span class="nx">getName</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
    	<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
	<span class="p">},</span>
	<span class="nx">getName2</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
		<span class="k">return</span> <span class="nx">original</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">clone</span> <span class="o">=</span> <span class="nx">makeClone</span><span class="p">(</span><span class="nx">original</span><span class="p">);</span>
<span class="c1">//change name of clone</span>
<span class="nx">clone</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s1">&#39;clone&#39;</span><span class="p">;</span>

<span class="nx">clone</span><span class="p">.</span><span class="nx">getName</span><span class="p">();</span> <span class="c1">//&#39;clone&#39;;</span>

<span class="nx">clone</span><span class="p">.</span><span class="nx">getName2</span><span class="p">();</span> <span class="c1">//&#39;original&#39;</span></code></pre></div>

<h2 id="merging-objects">Merging objects</h2>
<p>We will now rewrite the code to allow us to pass more than one original object into the function. The returned object will then contain properties from all of these objects. This example will work like “last in wins”, meaning that if the all objects has the property “name”, then the value from the last object will be the one that is assigned to the returned object.</p>

<p>We are going to make use of the <code>arguments</code> object that are present in javascript functions. This is an array like object that has the length property and its items can be retrieved by integer index. Meaning that we can build a for loop on it.</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">makeClone</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">original</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">clone</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">arguments</span><span class="p">[</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span><span class="mi">1</span><span class="p">])),</span>
        <span class="p">...;</span> <span class="c1">//getValue function is untouched</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">){</span>
        <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">prop</span> <span class="k">in</span> <span class="nx">arguments</span><span class="p">[</span><span class="nx">i</span><span class="p">]){</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">arguments</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">prop</span><span class="p">)){</span>
            	<span class="nx">clone</span><span class="p">[</span><span class="nx">prop</span><span class="p">]</span> <span class="o">=</span> <span class="nx">getValue</span><span class="p">(</span><span class="nx">arguments</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">prop</span><span class="p">]);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">clone</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<p>The new code here is that we pick the prototype from the last argument instead of from a named parameter, we also loop over the arguments and assigns each objects properties into the clone, which will overwrite it if it already exists.</p>

<h2 id="extending-the-code-even-further">Extending the code even further</h2>
<p>You can extend this code even further by adding the ability to do some form of deep merging where properties that are on more than one argument doesn’t overwrite the previous one if it’s an object, but instead it merges these to.</p>

<h2 id="working-code">Working code</h2>
<p>The full working code with some tests can be found in this <a href="http://jsfiddle.net/srosengren/a9w3fm13/">fiddler</a></p>
</div>
</article>

<section>


    
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
                
                <h4>Similar Posts</h4>
                <ul>
                
                <li>
                    <a href="/blog/augmentation-factory-pattern">Augmentation factory pattern
                    
                    </a>
                </li>
                
                
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    

    
    
        
            
                
                <li>
                    <a href="/blog/compact-datatransfer-experiment">Compact datatransfer experiment
                    
                    </a>
                </li>
                
                
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
                
                <li>
                    <a href="/blog/json-net-is-awesome">Json.NET is awesome
                    
                    </a>
                </li>
                
                
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
                
                <li>
                    <a href="/blog/automate-jekyll-with-grunt">Automate and livereload a jekyll site with less using grunt
                    
                    </a>
                </li>
                
                
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    

    
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
                
                <li>
                    <a href="/blog/jquery-data-and-html-data-attributes">Relationship of jQuery data and data- html attributes
                    
                    </a>
                </li>
                
                
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    
        
            
        
            
        
            
        
            
        
            
        
            
        
    


    </ul>

</section>
        </div>
        <footer class="footer-content">
          Powered by <a href="http://http://jekyllrb.com/" target="_blank">Jekyll</a>, hosted on <a href="https://github.com/" target="_blank">Github</a>, compiled using <a href="http://www.ruby-lang.org/en/" target="_blank">Ruby</a> and <a href="http://http://python.org/" target="_blank">Python</a> by a <a href="http://www.microsoft.com/net" target="_blank">.NET</a> guy.
        </footer>
      </div>
      <script src="https://sridentity.azurewebsites.net/analytics/analytics.js?publickey=53a5ebb7-013f-4af9-8d6d-62d803c120a3"></script>
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-41772613-1', 'rosengren.me');
        ga('send', 'pageview');

        document.getElementById('mail-link').href = 'mailto:' + 'sebastian' + '@' + 'rosengren' + '.me';

        document.getElementById('menu-toggle').addEventListener('click', function(){
          var navbar = document.getElementById('page');
          if(navbar.className.indexOf('drawer--open') > -1){
            navbar.className = navbar.className.replace(' drawer--open','');
          } else {
            navbar.className = navbar.className + ' drawer--open';
          }
        });

        document.getElementById('content').addEventListener('click',function(){
          var navbar = document.getElementById('page');
          if(navbar.className.indexOf('drawer--open') > -1){
            navbar.className = navbar.className.replace(' drawer--open','');
          }
        })
      </script>
    </body>
</html>
